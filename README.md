# Запуск проекта 

Для установки необходимого окружения смотрите файл INSTALL.md

## Сервер

Запустите сервер из папки todo_notes/ командой

    python manage.py runserver

### Доступ к REST web API

Для доступа к основному API введите:

    http://127.0.0.1:8000/api

Для доступа к демонстрации системы версий (API v2) введите:

    http://127.0.0.1:8000/api/v2

На момент написания данного руководства для модели User в версии API v2 доступно дополнительное поле - 
isStaff (is_staff в модели Django)

### Пользователи

| Админ? | Логин         | Пароль           | Назначение                                                                                                                        |
|--------|---------------|------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| да     | superuser     | superpassword    | Админ                                                                                                                             |
| нет    | developer1    | dev1password     | Урок 6 - член группы Developers (разработчики, имеют все права на модель ToDo, могут просматривать модели Project и User)         |
| нет    | developer2    | dev2password     | Урок 6 - член группы Developers (см. выше)                                                                                        |
| нет    | projectowner1 | projown1password | Урок 6 - член группы Project Owners (владельцы проектов имеют права на просмотр модели User и все права на модель Project и ToDo) |
| нет    | projectowner2 | projown2password | Урок 6 - член группы Project Owners (см. выше)                                                                                    |

### Тесты

Запустите тесты backend'а из папки todo_notes/ командой

    python manage.py test

### Документация REST интерфейса - drf-yasg

Для приложения доступна документация REST интерфейса, сгенерированная с использованием библиотеки drf-yasg.

Для отображения документации в формате JSON для машинной обработки:

    http://127.0.0.1:8000/drf-yasg/swagger.json

Для отображения документации в формате YAML для машинной обработки:

    http://127.0.0.1:8000/drf-yasg/swagger.yaml

Для отображения документации, сгенерированной Swagger:

    http://127.0.0.1:8000/drf-yasg/swagger

Для отображения документации, сгенерированной Redoc:

    http://127.0.0.1:8000/drf-yasg/redoc

### Документация REST интерфейса - DRF

Для приложения доступна документация REST интерфейса, сгенерированная с использованием собственных средств DRF.

Для отображения документации в формате YAML для машинной обработки:

    http://127.0.0.1:8000/drf/openapi

Для отображения документации, сгенерированной Swagger:

    http://127.0.0.1:8000/drf/swagger

Для отображения документации, сгенерированной Redoc:

    http://127.0.0.1:8000/drf/redoc

## Клиент

Запустите клиент из папки frontend/ командой

    npm run start

### Доступ к UI

Для доступа к интерфейсу пользователя на React наберите:

    http://localhost:3000

# Служебные утилиты

## Скрипт генерации пользователей

Запустите скрипт генерации пользователей из папки todo_notes/ командой 

    python manage.py createtestusers 

В качестве аргументов передайте имена пользователей

Чтобы создать супервизора, начните имя пользователя с префикса 'super'

## Проверка функциональности Урока 6

### Postman

В корне проекта помещен файл экспорта Postman

    lesson6.postman_collection.json
с тестовыми запросами к backend'у для проверки функционирования базовой авторизации, авторизации по токену DRF, 
а также JWT (задание со *).

### Скрипт

В файле 

    todo_notes/authtest.py 

размещен тестовый код всех видов авторизации.